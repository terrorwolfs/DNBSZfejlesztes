{"chunk":0,"numChunks":2,"fileHash":"gCRWPJ9EP2FE4f0C3/T5NnP9ANB6Y2GPMIn1/1eiuIc=","filePath":"FlaskWebProject/instance/site.db","content":"# Delete existing database files\nrm /FlaskWebProject/instance/site.db\nrm /FlaskWebProject/instance/your-database.db\n\n# Modify the config.py to ensure correct database path\n/FlaskWebProject/config.py\nSECRET_KEY = 'dev'\nSQLALCHEMY_DATABASE_URI = 'sqlite:///' + os.path.join(basedir, 'instance', 'site.db')\nSQLALCHEMY_TRACK_MODIFICATIONS = False\nSQLALCHEMY_POOL_SIZE = 5\nSQLALCHEMY_POOL_TIMEOUT = 30\nSQLALCHEMY_POOL_RECYCLE = 1800\n\n# Initialize the database using Flask-Migrate\n/FlaskWebProject/migrations/env.py\nfrom __future__ import with_statement\n\nimport logging\nfrom logging.config import fileConfig\n\nfrom flask import current_app\n\nfrom alembic import context\n\nconfig = context.config\n\nfileConfig(config.config_file_name)\nlogger = logging.getLogger('alembic.env')\n\ndef get_engine():\n    try:\n        return current_app.extensions['migrate'].db.get_engine()\n    except TypeError:\n        return current_app.extensions['migrate'].db.engine\n\nconfig.set_main_option(\n    'sqlalchemy.url', str(get_engine().url).replace('%', '%%'))\ntarget_metadata = current_app.extensions['migrate'].db.metadata\n\ndef run_migrations_offline():\n    url = config.get_main_option(\"sqlalchemy.url\")\n    context.configure(\n        url=url, target_metadata=target_metadata, literal_binds=True\n    )\n\n    with context.begin_transaction():\n        context.run_migrations()\n\ndef run_migrations_online():\n    def process_revision_directives(context, revision, directives):\n        if getattr(config.cmd_opts, 'autogenerate', False):\n            script = directives[0]\n            if script.upgrade_ops.is_empty():\n                directives[:] = []\n                logger.info('No changes in schema detected.')\n\n    connectable = get_engine()\n\n    with connectable.connect() as connection:\n        context.configure(\n            connection=connection,\n            target_metadata=target_metadata,\n            process_revision_directives=process_revision_directives,\n"}